(()=>{var t={683:()=>{document.addEventListener("DOMContentLoaded",(function(){var t,e,i=document.getElementById("js-main-wrapper"),n=document.getElementById("js-available-games"),s=document.getElementById("js-game-count"),o=document.getElementById("js-game-count-plus"),a=document.getElementById("js-game-count-minus"),r=document.getElementById("js-game-total-price"),u=document.getElementById("js-buy-btn"),l=document.getElementById("js-play-btn"),d=document.querySelectorAll(".js-chest-item"),c=document.querySelector("body"),m=document.getElementById("js-close-popup-button"),h="lose",f=!1,p=0,y=0;function g(t,e){document.getElementById("js-popup-title").innerHTML=t,document.getElementById("js-popup-text").innerHTML=e,c.classList.add("main-popup-enabled")}function v(){var t=5*y;r.innerHTML="".concat(t,"<span>$</span>")}function b(){p>0?(l.disabled=!1,E("Молодец! Для начала игры необходимо нажать кнопку “Играть”")):0===p&&(l.disabled=!0,E("Вскрывай сундуки из<br> моей сокровищницы!<br> Ищи несметные<br> богатства!")),n.innerText=p}function w(){d.forEach((function(t){t.className="chest-item"}))}function E(t){document.querySelector(".js-game-msg p").innerHTML=t}s.value=y,v(),b(),E("Вскрывай сундуки из<br> моей сокровищницы!<br> Ищи несметные<br> богатства!"),i.addEventListener("click",(function(t){t.target===o?(++y,s.value=y,v()):t.target===a?(y>0?--y:y=0,s.value=y,v()):t.target===u?(p+=+y,b(),y=0,s.value="",v(),f&&(l.disabled=!0)):t.target===l?function(){p>0&&--p;b(),f=!0,i.classList.add("game-started"),setTimeout((function(){i.classList.remove("game-started")}),2e3),w(),E("Отлично! Теперь выбери один из сундуков!"),l.disabled=!0}():t.target===m&&(c.classList.remove("main-popup-enabled"),w(),f=!1,b(),b())})),d.forEach((function(t){t.addEventListener("click",(function(){!function(t){f&&(f=!1,l.disabled=!0,"lose"===h?function(t){h="win",t.className="chest-item chest-item--win",setTimeout((function(){g("Поздравляем! <br> Вы выиграли!","")}),100),b()}(t):"win"===h&&function(t){h="lose",t.className="chest-item chest-item--lose",setTimeout((function(){g("Не повезло!","Попробуй еще раз!")}),100),b()}(t))}(t)}))})),s.addEventListener("keyup",(function(t){y=s.value,v()})),window.innerWidth>=1200&&(document.querySelectorAll(".viking-animation__item--beer span").forEach((function(t){setInterval((function(){t.style.display="block",setTimeout((function(){t.style.display="none"}),1e3)}),6500)})),e=document.querySelector(".viking-animation__item--hand span"),setInterval((function(){e.style.display="block",setTimeout((function(){e.style.display="none"}),1e3)}),4780),t=document.querySelector(".viking-animation__item--shoulder span"),setInterval((function(){t.style.display="block",setTimeout((function(){t.style.display="none"}),1e3)}),6e3))}))},722:()=>{var t=document.getElementById("js-torch"),e=t.getContext("2d"),i=t.width=800,n=t.height=800,s=[],o=!1,a=0,r=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},u=function(){this.reset()};u.prototype.reset=function(){this.startRadius=r(1,120),this.radius=this.startRadius,this.x=i/2+(r(0,6)-3),this.y=600,this.vx=0,this.vy=0,this.hue=r(a-50,a+50),this.saturation=r(90,100),this.lightness=r(70,100),this.startAlpha=r(1,10)/100,this.alpha=this.startAlpha,this.decayRate=.1,this.startLife=9.5,this.life=this.startLife,this.lineWidth=r(1,3)},u.prototype.update=function(){this.vx+=(r(0,200)-100)/1500,this.vy-=this.life/50,this.x+=this.vx,this.y+=this.vy,this.alpha=this.startAlpha*(this.life/this.startLife),this.radius=this.startRadius*(this.life/this.startLife),this.life-=this.decayRate,(this.x>i+this.radius||this.x<-this.radius||this.y>n+this.radius||this.y<-this.radius||this.life<=this.decayRate)&&this.reset()},u.prototype.render=function(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fillStyle=e.strokeStyle="#FD7B33",e.lineWidth=this.lineWidth,e.fill(),e.stroke()};window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},function r(){window.requestAnimFrame(r,t),e.globalCompositeOperation="destination-out",e.fillStyle="#FD7B33",e.fillRect(0,0,i,n),e.globalCompositeOperation="lighter",o||(s.length>200?o=!0:s.push(new u)),function(){for(var t=s.length;t--;)s[t].update()}(),function(){for(var t=s.length;t--;)s[t].render()}(),a++}()}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";i(722),i(683)})()})();